import{r as i,_ as n}from"./index-VKYCie2F.js";const S=(e=[])=>{i.useEffect(()=>{e.forEach(({isError:o,error:t,fallback:a})=>{var c;o&&(a?a():n.error(((c=t==null?void 0:t.data)==null?void 0:c.message)||"Somthing went wrong"))})},[e])},h=e=>{const[o,t]=i.useState(!1),[a,c]=i.useState(null),[d]=e();return[async(f,...g)=>{var r,u;t(!0);const l=n.loading(f||"Updating data...");try{const s=await d(...g);s.data?(n.success(s.data.message||"Updated data successfully",{id:l}),c(s.data)):n.error(((u=(r=s==null?void 0:s.error)==null?void 0:r.data)==null?void 0:u.message)||"Something Went Wrong",{id:n})}catch(s){console.error(s),n.error("Something Went Wrong",{id:n})}finally{t(!1)}},o,a]},p=(e,o)=>{i.useEffect(()=>(Object.entries(o).forEach(([t,a])=>{console.log(`Registering event: ${t}`),e.on(t,a)}),()=>{Object.entries(o).forEach(([t,a])=>{e.off(t,a)})}),[e,o])};export{S as a,h as b,p as u};
